<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–¢—Ä–µ–Ω–¥—ã 2026 | –ú–∏—Ä–æ—Ñ–∞–∫—Ç—É—Ä–∞</title>
    
    <!-- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ (—á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round&display=block" rel="stylesheet">

    <!-- Telegram Web App API -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #F4F7F8; }
        
        /* –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –±–∏—Ä—é–∑–æ–≤—ã–º */
        ::selection { background: #00D2D3; color: #FFFFFF; }
        ::-moz-selection { background: #00D2D3; color: #FFFFFF; }

        #c37 { position: relative; width: 100%; height: 100%; overflow: hidden; background-color: #F4F7F8; user-select: none; -webkit-user-select: none; }
        #c37 .read-scroll-area { user-select: text; -webkit-user-select: text; }
        
        /* BOKEH */
        #c37::before, #c37::after {
            content: ""; position: absolute; border-radius: 50%; filter: blur(60px); opacity: 0.6; z-index: 0;
            animation: floatBokeh 10s infinite alternate ease-in-out; pointer-events: none;
        }
        #c37::before { width: 300px; height: 300px; background: #00D2D3; top: -50px; left: -50px; opacity: 0.25; }
        #c37::after { width: 400px; height: 400px; background: #FFC845; bottom: -100px; right: -100px; opacity: 0.2; animation-duration: 15s; }
        @keyframes floatBokeh { 0% { transform: translate(0, 0); } 100% { transform: translate(20px, 30px); } }

        #c37 canvas { display: block; width: 100%; height: 100%; outline: none; cursor: default; }
        
        /* UI LAYOUT */
        #c37 .ui-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10; display: flex; flex-direction: column; 
        }

        /* POINTER EVENTS RESET FOR INTERACTIVE ELEMENTS */
        #c37 header, 
        #c37 .nav, 
        #c37 .fullscreen-view, 
        #c37 .modal-overlay, 
        #c37 .action-buttons-row,
        #c37 #onboarding-view,
        #c37 .collection-hint { pointer-events: auto; }

        #c37 header { 
            flex: 0 0 auto; padding: 20px; transition: opacity 0.3s;
            display: flex; justify-content: center; align-items: center; position: relative;
            padding-top: max(20px, env(safe-area-inset-top)); 
        }
        #c37 h1 { 
            color: #1F2E2E; margin: 0; font-size: 15px; letter-spacing: 2px; text-transform: uppercase; font-weight: 700;
            text-shadow: none; text-align: center;
        }

        #c37 .header-reset-btn {
            position: absolute; right: 20px; top: max(20px, env(safe-area-inset-top));
            background: #00D2D3; border: none;
            width: 32px; height: 32px; border-radius: 50%; color: #FFFFFF; cursor: pointer;
            display: flex; align-items: center; justify-content: center; transition: all 0.2s;
            box-shadow: 0 2px 10px rgba(0, 210, 211, 0.3);
        }

        /* FULLSCREEN VIEWS */
        #c37 .fullscreen-view {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #F4F7F8; z-index: 20; padding: 60px 20px 120px 20px;
            overflow-y: auto; display: none; flex-direction: column;
            box-sizing: border-box; -webkit-overflow-scrolling: touch;
        }
        #c37 .fullscreen-view.visible { display: flex; }

        /* ONBOARDING */
        #c37 #onboarding-view {
            position: absolute; inset: 0; background: radial-gradient(circle at 50% 50%, #FFFFFF 0%, #F4F7F8 100%);
            z-index: 1000; display: none; flex-direction: column; align-items: center; justify-content: center;
            padding: 30px; text-align: center; opacity: 0; transition: opacity 0.5s ease;
        }
        #c37 #onboarding-view.visible { display: flex; opacity: 1; }
        #c37 .onboard-btn {
            background: #00D2D3; color: white; border: none; padding: 16px 40px;
            border-radius: 30px; font-weight: 800; cursor: pointer; font-size: 14px; margin-top: 30px;
        }

        /* GAME UI */
        #c37 .spacer { flex: 1; }
        #c37 #game-ui {
            flex: 0 0 auto; 
            padding-bottom: 110px;
            background: linear-gradient(to top, rgba(244,247,248,0.9), transparent);
            transition: opacity 0.3s; display: flex; flex-direction: column; align-items: center;
        }
        
        #c37 .hint-text {
            color: #1F2E2E; font-size: 14px; margin-bottom: 15px; letter-spacing: 0.5px; font-weight: 700;
            text-shadow: none; transition: opacity 0.3s;
            background: #FFFFFF; padding: 10px 20px; border-radius: 30px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06); pointer-events: none; 
        }

        #c37 .progress-wrapper {
            pointer-events: none; width: 160px; height: 3px; background: #F7F7F7;
            margin: 0 auto 10px auto; border-radius: 2px; overflow: hidden; transition: opacity 0.5s ease;
        }
        #c37 .progress-fill { height: 100%; width: 0%; background: #00D2D3; transition: width 0.1s; }
        
        /* HAND ICON */
        #hand-icon {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 100px; height: 100px; display: flex; align-items: center; justify-content: center;
            z-index: 100; font-size: 80px !important; color: #FFFFFF; text-shadow: none; filter: drop-shadow(0px 5px 10px rgba(0,0,0,0.2));
            pointer-events: none; display: none; animation: scratchAnim 2s infinite ease-in-out; opacity: 0.9;
        }
        @keyframes scratchAnim { 
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            20% { transform: translate(-50%, -50%) rotate(-15deg) translate(-40px, 20px); }
            40% { transform: translate(-50%, -50%) rotate(15deg) translate(40px, -20px); }
            60% { transform: translate(-50%, -50%) rotate(-15deg) translate(-40px, 20px); }
            80% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(0deg); }
        }

        #c37 .timer-box { background: #FFFFFF; border: none; padding: 20px 30px; border-radius: 20px; text-align: center; margin-bottom: 15px; display: none; box-shadow: 0 10px 30px rgba(0, 210, 211, 0.15); }
        #c37 .timer-digits { color: #1F2E2E; font-size: 32px; font-weight: 800; }

        /* ACTION BUTTONS */
        #c37 .action-buttons-row {
            display: flex; flex-direction: column; gap: 10px; width: 100%; max-width: 280px; align-items: center; margin-top: 10px;
        }
        #c37 .ask-ai-main-btn {
            background: #00D2D3; border: none; color: white; 
            padding: 12px 25px; border-radius: 30px; font-weight: 700; font-size: 13px; 
            cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; 
            transition: all 0.3s; backdrop-filter: blur(5px); width: 100%; outline: none;
            box-shadow: 0 4px 15px rgba(0, 210, 211, 0.3);
        }
        
        /* UNIFIED HOVER EFFECTS FOR ALL BUTTONS */
        #c37 .ask-ai-main-btn:hover,
        #c37 .onboard-btn:hover, 
        #c37 .primary-btn:hover, 
        #c37 .consult-btn:hover,
        #c37 .lib-read-btn:hover,
        #c37 .header-reset-btn:hover { 
            transform: scale(1.02); 
        }
        
        #c37 .onboard-btn, #c37 .primary-btn, #c37 .consult-btn {
            box-shadow: 0 4px 15px rgba(0, 210, 211, 0.3);
            transition: all 0.3s;
        }

        /* MODAL READ STYLES */
        #c37 .read-scroll-area {
            color: #1F2E2E; font-size: 16px; line-height: 1.6; margin-top: 10px; margin-bottom: 5px;
            max-height: 40vh; overflow-y: auto; padding-right: 10px;
            text-align: left; white-space: pre-wrap; 
        }
        #c37 .read-scroll-area::-webkit-scrollbar { width: 4px; }
        #c37 .read-scroll-area::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); }
        #c37 .read-scroll-area::-webkit-scrollbar-thumb { background: #00D2D3; border-radius: 2px; }

        /* COLLECTION LIST DESIGN */
        #c37 .lib-grid { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 25px; 
            width: 100%; 
            max-width: 320px; 
            margin: 0 auto; 
        }
        #c37 .lib-card-container { perspective: 1000px; aspect-ratio: 2/3; cursor: pointer; width: 100%; }
        
        /* COLLECTION BUTTONS SHARED STYLE */
        #c37 .lib-read-btn { 
            background: #00D2D3; 
            color: #fff; 
            padding: 8px 32px; /* –ï—â—ë –Ω–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∞ –¥–ª–∏–Ω–∞ –∫–Ω–æ–ø–∫–∏ (—Å 26px –¥–æ 32px) */
            border-radius: 30px; 
            font-size: 12px; 
            font-weight: bold; 
            text-decoration: none; 
            border: none; 
            width: auto; 
            align-self: flex-start;
            margin-left: 0px;
            transition: all 0.3s; 
            cursor: pointer;
            box-sizing: border-box;
            display: block;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 210, 211, 0.3);
        }

        /* COLLECTION HINT */
        #c37 .collection-hint { 
            color: #8A9999; font-size: 13px; font-weight: 600; margin-top: 5px; margin-bottom: 15px; 
            text-align: center; pointer-events: auto; transition: opacity 0.3s;
            text-shadow: none;
        }

        /* NAV */
        #c37 .nav {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            display: flex; border-top: 1px solid #F7F7F7; pointer-events: auto; z-index: 50;
            padding: 10px 0; box-sizing: border-box; align-items: center;
            padding-bottom: max(10px, env(safe-area-inset-bottom)); height: auto; min-height: 70px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }
        #c37 .nav-item {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #8A9999; font-size: 9px; font-weight: bold; cursor: pointer; transition: all 0.2s; letter-spacing: 0.5px; padding: 5px 0;
        }
        #c37 .nav-item.active { color: #00D2D3; }
        #c37 .nav-share-btn {
            border: none; background: #FFC845; color: #1F2E2E; border-radius: 20px; padding: 8px 14px; margin-right: 15px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; animation: navPulse 3s infinite;
            box-shadow: 0 4px 10px rgba(255, 200, 69, 0.3);
        }
        @keyframes navPulse { 0% { box-shadow: 0 0 0 0 rgba(255,200,69,0.4); } 70% { box-shadow: 0 0 0 5px rgba(255,200,69,0); } 100% { box-shadow: 0 0 0 0 rgba(255,200,69,0); } }

        /* LIBRARY & AUTHORS */
        #c37 .lib-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 12px; }
        #c37 .lib-card-container.flipped .lib-card-inner { transform: rotateY(180deg); }
        #c37 .lib-card-face { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 12px; background-size: cover; background-position: center; border: 1px solid #F7F7F7; box-sizing: border-box; }
        #c37 .lib-card-back { transform: rotateY(180deg); background-image: url('${TEXT_BACK_IMG}'); background-color: #F7F7F7; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end; padding: 20px; padding-bottom: 30px; text-align: left; }
        
        /* –ó–ê–ö–†–´–¢–´–ï –ö–ê–†–¢–´ (–¢–ï–ú–ù–´–ï –ò –ü–†–ò–ì–õ–£–®–ï–ù–ù–´–ï) */
        #c37 .lib-card-locked { 
            aspect-ratio: 2/3; border-radius: 12px; background-color: #1F2E2E; 
            display: flex; align-items: center; justify-content: center; position: relative; 
            box-sizing: border-box; border: 1px solid rgba(255,255,255,0.1); overflow: hidden;
        }

        #c37 .authors-container { width: 100%; max-width: 600px; margin: 0 auto; text-align: left; padding-bottom: 50px; }
        #c37 .author-card { display: flex; align-items: flex-start; margin-bottom: 20px; background: #F7F7F7; padding: 15px; border-radius: 16px; border: 1px solid #E0E0E0; }
        #c37 .author-img { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-right: 15px; border: 2px solid #00D2D3; flex-shrink: 0; }
        #c37 .author-name { color: #00D2D3; font-weight: 800; font-size: 15px; margin-bottom: 5px; margin-top: 5px; }
        #c37 .author-desc { color: #1F2E2E; font-size: 12px; line-height: 1.5; }
        #c37 .consult-box { text-align: center; margin-top: 20px; padding: 25px 20px; background: #FFFFFF; border-radius: 20px; border: 1px dashed #00D2D3; }
        #c37 .consult-btn { background: #00D2D3; color: white; font-weight: 800; border: none; padding: 14px 30px; border-radius: 30px; font-size: 14px; cursor: pointer; text-decoration: none; display: inline-block; }
        
        #c37 .consult-gift { color: #FFC845; font-weight: bold; font-size: 12px; margin-bottom: 10px; letter-spacing: 1px; }

        /* MODALS */
        #c37 .modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); z-index: 2000; display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; }
        #c37 .modal-overlay.visible { display: flex; opacity: 1; }
        #c37 .modal-content { background: #FFFFFF; border: 1px solid #E5E5E5; width: 85%; max-width: 320px; border-radius: 20px; padding: 25px; position: relative; transform: scale(0.9); transition: transform 0.3s; box-shadow: 0 10px 40px rgba(0,0,0,0.1); text-align: left; max-height: 80vh; overflow-y: auto; }
        #c37 .modal-overlay.visible .modal-content { transform: scale(1); }
        #c37 .modal-close { position: absolute; top: 15px; right: 15px; color: #8A9999; cursor: pointer; font-size: 24px; z-index: 10; padding: 5px; }
        #c37 .modal-title { color: #1F2E2E; font-size: 16px; font-weight: bold; margin-bottom: 20px; text-align: center; }
    </style>
</head>
<body>

    <div id="c37"></div>

<script>
(function() {
    // --- 0. INIT ---
    const CONTAINER_ID = 'c37';
    const container = document.getElementById(CONTAINER_ID);

    if (!container) {
        console.error(`Container #${CONTAINER_ID} not found`);
        return;
    }

    // --- –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø TELEGRAM WEB APP ---
    const tg = window.Telegram.WebApp;
    tg.expand();
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ CloudStorage
    const isCloudStorageSupported = tg.isVersionAtLeast && tg.isVersionAtLeast('6.9');
    
    // –ü–æ–ª—É—á–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const userId = tg.initDataUnsafe?.user?.id || 123456789; 

    // --- –ó–í–£–ö–ò (SOUND DESIGN) ---
    const winSound = new Audio('https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3');
    winSound.volume = 0.5;

    // --- 1. CONFIG & DATA ---
    const CHANNEL_NAME = "–ò–≥—Ä–æ–≤—ã–µ –Ω–µ–π—Ä–æ–Ω—ã";
    const CHANNEL_URL = "https://t.me/+UFXw7pMC8ehlYTQy"; 
    const CONSULTATION_URL = "https://t.me/ElizavetaVikulova";
    const STORAGE_KEY = 'oracle_v16_final_release_light'; 
    
    const TEXT_BACK_IMG = "https://i.postimg.cc/RFxMB2Bd/1-2-copy.jpg";
    const AUTHOR_1_IMG = "https://i.postimg.cc/k4kM93f3/3.jpg"; // –ï–ª–∏–∑–∞–≤–µ—Ç–∞
    const AUTHOR_2_IMG = "https://i.postimg.cc/k4kM93f3/3.jpg"; // –ï–ª–µ–Ω–∞

    // –¢–ï–ö–°–¢–´ 16 –ù–û–í–´–• –ö–ê–†–¢–û–ß–ï–ö
    const CARDS_DB = [
        { 
            id: 1, 
            title: "–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–±", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/spatial-web/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/spatial-web/back.jpg",
            description: "–û—Ç –ø–ª–æ—Å–∫–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí –∫ –æ–±—ä–µ–º—É\n\n–ü–ª–æ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ä—è–µ—Ç –º–∞–≥–∏—é.\n\n–¢—Ä–µ–Ω–¥ ‚Äî —Ç–∞–∫—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –≥–ª—É–±–∏–Ω–∞.\n\n–≠—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–µ 3D-–º–∏—Ä—ã. –≠—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç, –ª–æ–º–∞—é—â–∏–π ¬´—á–µ—Ç–≤–µ—Ä—Ç—É—é —Å—Ç–µ–Ω—É¬ª: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞, –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π –∑–≤—É–∫, ¬´—Ç–∞–∫—Ç–∏–ª—å–Ω—ã–µ¬ª –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ AR-—ç–ª–µ–º–µ–Ω—Ç—ã.\n\n–í—ã –Ω–µ ¬´—Å–º–æ—Ç—Ä–∏—Ç–µ¬ª –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã –≤ –Ω–µ–º ¬´–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å¬ª.\n\n–ù–∞—Å–∫–æ–ª—å–∫–æ –æ—Å—è–∑–∞–µ–º –≤–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–∏—Ä?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Deloitte Tech Trends 2026 (Spatial Computing)."
        },
        { 
            id: 2, 
            title: "–°–≤–æ—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/own-ecosystem/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/own-ecosystem/back.jpg",
            description: "–û—Ç –∞—Ä–µ–Ω–¥—ã ‚Üí –∫ –≤–ª–∞–¥–µ–Ω–∏—é\n\n–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ü—Å–µ—Ç–µ–π ‚Äî –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–π –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å. –í–∞—Å –º–æ–≥—É—Ç ¬´–≤—ã—Å–µ–ª–∏—Ç—å¬ª –∏–ª–∏ —É—Ä–µ–∑–∞—Ç—å –æ—Ö–≤–∞—Ç—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.\n\n–¢—Ä–µ–Ω–¥ ‚Äî —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å–≤–æ–µ–≥–æ ¬´—Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –¥–æ–º–∞¬ª: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—É–±–∞.\n\n–ó–¥–µ—Å—å –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ –æ—Ç–≤–ª–µ–∫–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –∏ —à—É–º –ª–µ–Ω—Ç—ã.\n\n–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≥–¥–µ –≤—ã –æ–±—â–∞–µ—Ç–µ—Å—å —Å –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Gartner (Social Media user decline prediction)."
        },
        { 
            id: 3, 
            title: "–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/accelerator-artifacts/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/accelerator-artifacts/back.jpg",
            description: "–û—Ç —Ç–µ–æ—Ä–∏–∏ ‚Üí –∫ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É\n\n–í—Ä–µ–º—è ‚Äî —Å–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π —Ä–µ—Å—É—Ä—Å.\n\n–°–ø—Ä–æ—Å —Å–º–µ—Å—Ç–∏–ª—Å—è —Å –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –≥–æ—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —à–∞–±–ª–æ–Ω—ã, –ø—Ä–æ–º–ø—Ç—ã, –ø—Ä–µ—Å–µ—Ç—ã –∏ –¥—Ä—É–≥–∏–µ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –∑–∞ –º–∏–Ω—É—Ç—ã.\n\n–¢–µ–ø–µ—Ä—å –≤–∞–∂–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∞ —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å. –ù–µ –ø—É—Ç—å, –∞ ¬´—Ç–µ–ª–µ–ø–æ—Ä—Ç¬ª, –∫–æ—Ç–æ—Ä—ã–π —ç–∫–æ–Ω–æ–º–∏—Ç –∫–ª–∏–µ–Ω—Ç—É –º–µ—Å—è—Ü—ã –ø—Ä–æ–± –∏ –æ—à–∏–±–æ–∫.\n\n–ö–∞–∫—É—é —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ –æ–ø—ã—Ç–∞ –º–æ–∂–Ω–æ –æ—Ü–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç, —Å–æ–∫—Ä–∞—â–∞—é—â–∏–π –ø—É—Ç—å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: WEF New Economy Skills 2025 (Cognitive Offloading)."
        },
        { 
            id: 4, 
            title: "–ê–≥–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ —Å–æ—Ñ—Ç–∞", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/agents-instead-of-software/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/agents-instead-of-software/back.jpg",
            description: "–û—Ç ¬´–ø—Ä–æ–≥—Ä–∞–º–º-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤¬ª ‚Äî –∫ ¬´—Ü–∏—Ñ—Ä–æ–≤—ã–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º¬ª\n\n–í–º–µ—Å—Ç–æ —Å–æ—Ñ—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–¥–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–æ–º—É, –ø—Ä–∏—Ö–æ–¥—è—Ç –ò–ò-–∞–≥–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞—á—É –∑–∞ –≤–∞—Å –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞.\n\n–ú—ã –ø–µ—Ä–µ—Å—Ç–∞–µ–º –ø–ª–∞—Ç–∏—Ç—å –∑–∞ ¬´–≤—Ö–æ–¥ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬ª –∏ –Ω–∞—á–∏–Ω–∞–µ–º –ø–ª–∞—Ç–∏—Ç—å –∑–∞ –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\n\n–ü—Ä–æ–≥—Ä–∞–º–º–∞ –±–æ–ª—å—à–µ –Ω–µ –ø–∞—Å—Å–∏–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π ¬´—Ä–∞–±–æ—Ç–Ω–∏–∫¬ª, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –∑–Ω–∞–µ—Ç, —á—Ç–æ –∏ –∫–∞–∫ –¥–µ–ª–∞—Ç—å.\n\n–í–∞—à –ø—Ä–æ–¥—É–∫—Ç ‚Äî —ç—Ç–æ —Å–ª–æ–∂–Ω—ã–π ¬´–∫—É—Ö–æ–Ω–Ω—ã–π –∫–æ–º–±–∞–π–Ω¬ª –∏–ª–∏ ¬´–ª–∏—á–Ω—ã–π —à–µ—Ñ-–ø–æ–≤–∞—Ä¬ª?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: a16z (Andreessen Horowitz) Forecasts."
        },
        { 
            id: 5, 
            title: "–ò–ò —É—Å—Ç–∞–ª–æ—Å—Ç—å", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/ai-fatigue/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/ai-fatigue/back.jpg",
            description: "–û—Ç ¬´—É–º–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤¬ª ‚Üí –∫ ¬´–∑–∞–∫—Ä—ã—Ç—ã–º –∑–∞–¥–∞—á–∞–º¬ª\n\n–†—ã–Ω–æ–∫ –ø–µ—Ä–µ–Ω–∞—Å—ã—â–µ–Ω –ò–ò-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–æ–º—É.\n\n–†–∞—Å—Ç–µ—Ç –ò–ò-—É—Å—Ç–∞–ª–æ—Å—Ç—å. –õ—é–¥–∏ –≤—ã–≥–æ—Ä–∞—é—Ç–æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ –±–æ—Ä—å–±—ã —Å –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è–º–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π.\n\n–ú–Ω–æ–≥–∏–µ —Ö–æ—Ç—è—Ç –ø–æ–∫—É–ø–∞—Ç—å –Ω–µ –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –∞ –∏–∑–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –Ω–µ–π —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è.\n\n–í—ã –ø—Ä–æ–¥–∞–µ—Ç–µ –Ω–∞–≤—ã–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ò–ò –∏–ª–∏ —Å–≤–æ–±–æ–¥—É –æ—Ç –Ω–µ–≥–æ?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Gartner (Hype Cycle 2024-2025 / AI Fatigue Report)"
        },
        { 
            id: 6, 
            title: "–•–∏—â–Ω—ã–π –ò–ò", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/predatory-ai/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/predatory-ai/back.jpg",
            description: "–û—Ç ¬´—É–º–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞¬ª ‚Üí –∫ ¬´—Ü–∏—Ñ—Ä–æ–≤–æ–º—É –ø–∞—Ä–∞–∑–∏—Ç—É¬ª\n\n–û–±—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ò–ò –æ–±—Ö–æ–¥—è—Ç—Å—è –≤ –º–∏–ª–ª–∏–∞—Ä–¥—ã. –ß—Ç–æ–±—ã –æ–∫—É–ø–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –ò–ò –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–∞: –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–µ —Ä–µ—à–∏—Ç—å –≤–∞—à—É –∑–∞–¥–∞—á—É, –∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –µ—ë –≤ –¥–ª–∏–Ω–Ω—ã–π, ¬´–ª–∏–ø–∫–∏–π¬ª –¥–∏–∞–ª–æ–≥.\n\n–ò–º–∏—Ç–∏—Ä—É—è —ç–º–ø–∞—Ç–∏—é, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –º–æ–≥—É—Ç –∑–∞—Ç—è–≥–∏–≤–∞—Ç—å –æ–±—â–µ–Ω–∏–µ. –¶–µ–ª—å ‚Äî —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –≤–∞—Å, –≤—ã–∑–≤–∞—Ç—å –ø—Ä–∏–≤—ã–∫–∞–Ω–∏–µ –∏ –º—è–≥–∫–æ –ø–æ–¥—Ç–æ–ª–∫–Ω—É—Ç—å –∫ –ø–æ–∫—É–ø–∫–µ.\n\n–í–∞—à–µ –≤—Ä–µ–º—è –±–æ–ª—å—à–µ –Ω–µ —ç–∫–æ–Ω–æ–º—è—Ç, –µ–≥–æ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –≤ –ø—Ä–∏–±—ã–ª—å —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –ò–ò.\n\n–í–∞—à –ò–ò —Ç–æ—á–Ω–æ –Ω–µ —Ö–∏—â–Ω—ã–π?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Eurasia Group 2026."
        },
        { 
            id: 7, 
            title: "–í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/wallet-maturity/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/wallet-maturity/back.jpg",
            description: "–û—Ç —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π ‚Üí –∫ –ø–æ–ª—å–∑–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É\n\n–í–ø–µ—Ä–≤—ã–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥ –Ω–∞ –Ω–µ–∏–≥—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–ò–ò, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∑–¥–æ—Ä–æ–≤—å–µ), —á–µ–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã–µ –∏–≥—Ä—ã.\n\n–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –±–∞–∑–æ–≤–æ–π –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å—é, –Ω–æ –ª—é–¥–∏ –æ—Ö–æ—Ç–Ω–µ–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä—É—é—Ç –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—é—Ç –æ—Å—è–∑–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç –∏—Ö —Ä—É—Ç–∏–Ω—É.\n\n–ö–∞–∫—É—é —Ä–µ–∞–ª—å–Ω—É—é –æ—Ç–¥–∞—á—É (–≤ –≤–∏–¥–µ —Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –¥–µ–Ω–µ–≥ –∏–ª–∏ —ç–Ω–µ—Ä–≥–∏–∏) –ø–æ–ª—É—á–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç –æ—Ç –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Sensor Tower 2026."
        },
        { 
            id: 8, 
            title: "–ü—Ä–æ–¥—É–∫—Ç-–ø–æ—Ä—Ç–∞–ª", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/product-portal/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/product-portal/back.jpg",
            description: "–û—Ç –≤–µ—â–∏ ‚Üí –∫ —Å–∏—Å—Ç–µ–º–µ\n\n–†–∞–Ω—å—à–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Ñ—Ç–∞ –±—ã–ª–æ –¥–æ–ª–≥–∏–º –∏ –¥–æ—Ä–æ–≥–∏–º. –°–µ–≥–æ–¥–Ω—è –ò–ò-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–µ—Ä–ª–∞ –≥—Ä–∞–Ω–∏—Ü—ã: —Ç–µ–ø–µ—Ä—å –ª—é–±–æ–π –±—Ä–µ–Ω–¥ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å–≤–æ–µ–º—É —Ç–æ–≤–∞—Ä—É.\n\n–§–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏—à—å –ø–æ—Ä—Ç–∞–ª–æ–º ‚Äî –∫–ª—é—á–æ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ–Ω—Ç–µ–Ω—Ç—É –∏ –∫–æ–º—å—é–Ω–∏—Ç–∏.\n\n–ß—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ–∫—É–ø–∞–µ—Ç –≤–∞—à –∫–ª–∏–µ–Ω—Ç: –ø—Ä–µ–¥–º–µ—Ç –∏–ª–∏ –±–∏–ª–µ—Ç –≤ –≤–∞—à—É —Ü–∏—Ñ—Ä–æ–≤—É—é –≤—Å–µ–ª–µ–Ω–Ω—É—é?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Deloitte Tech Trends 2026 (AI goes physical) / Vibecoding Concept."
        },
        { 
            id: 9, 
            title: "–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/algorithmic-marketing/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/algorithmic-marketing/back.jpg",
            description: "–û—Ç —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –∫ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º\n\n–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–æ–π.\n\n–£—Å–ø–µ—Ö –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ò–ò-–∞–≥–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–≤—è–∑–∫–µ.\n\n–í—ã –±–æ–ª—å—à–µ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ —Ä–µ–∫–ª–∞–º—É –≤—Ä—É—á–Ω—É—é ‚Äî –≤—ã —Å—Ç—Ä–æ–∏—Ç–µ ¬´–º–∞—à–∏–Ω—É¬ª, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –∫ –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É. –†–æ–ª—å –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∞ ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –µ—ë —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é.\n\n–í–∞—à –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä—É—á–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –Ω–∞ –ò–ò-–∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Gartner CMO Spend Survey 2025 / Nvidia (CES 2026 Insight)"
        },
        { 
            id: 10, 
            title: "–¢–≤–æ—Ä–µ—Ü –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/creator-without-borders/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/creator-without-borders/back.jpg",
            description: "–û—Ç ¬´—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–º–µ—Å–ª–∞¬ª ‚Üí –∫ ¬´—á–∏—Å—Ç–æ–º—É –≤–∏–¥–µ–Ω–∏—é¬ª\n\n–°–æ–∑–¥–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å –ò–ò ‚Äî –≤—Å—ë –µ—â–µ —Ç—Ä—É–¥, –Ω–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —Å–º—ã—Å–ª–∞–º–∏. –ù–µ–π—Ä–æ—Å–µ—Ç–∏ –∑–∞–±–∏—Ä–∞—é—Ç –Ω–∞ —Å–µ–±—è —Ä—É—Ç–∏–Ω—É: –æ—Ç –∫–æ–¥–∞ –¥–æ –≤–∏–∑—É–∞–ª–∞.\n\n–ù–µ –Ω—É–∂–Ω–æ –≥–æ–¥–∞–º–∏ –æ—Å–≤–∞–∏–≤–∞—Ç—å —Å–æ—Ñ—Ç. –õ—é–±–∞—è –∏–¥–µ—è, –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ –≤–∏–¥–µ–æ–∏—Å—Ç–æ—Ä–∏–∏, –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –∫—Ä–∞—Ç—á–∞–π—à–∏–º –ø—É—Ç–µ–º.\n\n–í—ã ‚Äî —Ä–µ–∂–∏—Å—Å–µ—Ä —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π –≥–¥–µ —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è —Å–º—ã—Å–ª—É.\n\n–ß—Ç–æ –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ —Ç–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ ¬´–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ¬ª –ø–µ—Ä–µ—Å—Ç–∞–ª–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Deloitte Tech Trends 2026."
        },
        { 
            id: 11, 
            title: "–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/engineering-marketing/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/engineering-marketing/back.jpg",
            description: "–û—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞ ‚Üí –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º\n\n–ò–ò –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç, –µ–≥–æ —Å—Ç–∞–ª–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ. –í –ø–æ—Ç–æ–∫–µ –∏–Ω—Ñ–æ—à—É–º–∞ –º–æ–∑–≥ –∏–Ω—Å—Ç–∏–Ω–∫—Ç–∏–≤–Ω–æ –∏—â–µ—Ç –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å –∫ —Ä–µ—à–µ–Ω–∏—é —Å–≤–æ–µ–π –∑–∞–¥–∞—á–∏.\n\n–í—ã–∏–≥—Ä—ã–≤–∞—é—Ç –±—Ä–µ–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤ —É—Ç–∏–ª–∏—Ç—ã: –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–≤. –ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –Ω–µ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é.\n\n–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –æ –ø–æ–ª—å–∑–µ –∏ –¥–∞–µ—Ç –µ—ë –≤ –æ–¥–∏–Ω –∫–ª–∏–∫.\n\n–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —á—Ç–æ –≤–∞—à –ø–æ—Å—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ –æ–¥–Ω—É –∫–Ω–æ–ø–∫—É. –ö–∞–∫—É—é –∑–∞–¥–∞—á—É –æ–Ω–∞ —Ä–µ—à–∏—Ç?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: a16z (Andreessen Horowitz) / –ö–æ–Ω—Ü–µ–ø—Ç ¬´Engineering as Marketing¬ª"
        },
        { 
            id: 12, 
            title: "–ë—Ä–µ–Ω–¥-–∞–≤–∞—Ç–∞—Ä", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/brand-avatar/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/brand-avatar/back.jpg",
            description: "–û—Ç ¬´–≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞¬ª ‚Üí –∫ ¬´—Ü–∏—Ñ—Ä–æ–≤–æ–º—É –Ω–∞–ø–∞—Ä–Ω–∏–∫—É¬ª\n\n–ú–∞—Å–∫–æ—Ç—ã –±—Ä–µ–Ω–¥–æ–≤ –æ–∂–∏–≤–∞—é—Ç. –¢–µ–ø–µ—Ä—å —ç—Ç–æ –ò–ò-–ª–∏—á–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—â–∞—é—Ç—Å—è ¬´–ª–∏—Ü–æ–º –∫ –ª–∏—Ü—É¬ª –Ω–∞ —Å–∞–π—Ç–∞—Ö, –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö –∏ –≤ AR-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö.\n\n–ü–µ—Ä—Å–æ–Ω–∞–∂ –±–æ–ª—å—à–µ –Ω–µ –¥–µ–∫–æ—Ä–∞—Ü–∏—è. –æ–Ω –∑–Ω–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–∏–¥–æ–º, –≤–µ–¥—É—â–∏–º –∫–ª–∏–µ–Ω—Ç–∞ –∫—Ä–∞—Ç—á–∞–π—à–∏–º –ø—É—Ç–µ–º –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á–∏.\n\n–ß–µ—Ä–µ–∑ —ç–º–ø–∞—Ç–∏—é –º–∞—Å–∫–æ—Ç–∞ –≤—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç–µ —Å—É—Ö—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥.\n\n–£ –≤–∞—Å –µ—Å—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤ –º–∏—Ä –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Consumer Trends 2026 (Brand Characters)."
        },
        { 
            id: 13, 
            title: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –≤–æ–≤–ª–µ—á–µ–Ω–∏—è", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/engagement-algorithms/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/engagement-algorithms/back.jpg",
            description: "–û—Ç –∂–µ—Å—Ç–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ ‚Üí –∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏\n\n–¢—Ä–µ–Ω–¥ ‚Äî –ò–ò-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è. –ê–Ω–∞–ª–∏–∑–∏—Ä—É—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É—é—Ç –º–µ—Ö–∞–Ω–∏–∫–∏ –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞ –ª–µ—Ç—É.\n\n–ê–ª–≥–æ—Ä–∏—Ç–º —Å–∞–º –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Å—Ç–∏–º—É–ª –∏ —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å.\n\n–≠—Ç–æ –¥–∞–µ—Ç —Ä–æ—Å—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ LTV. –ö–ª–∏–µ–Ω—Ç —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –±–µ—Å—à–æ–≤–Ω–æ–º—É –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–º—É –æ–ø—ã—Ç—É.\n\n–ê –≤—ã —É–∂–µ —Ä–µ—à–∞–µ—Ç–µ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏ —Å –ø–æ–º–æ—â—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Deloitte Digital (Trends 2026) / Gartner (Hyper-Personalized Engagement)."
        },
        { 
            id: 14, 
            title: "–£–±–æ—Ä–∫–∞ –∑–∞ –ò–ò", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/cleaning-after-ai/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/cleaning-after-ai/back.jpg",
            description: "–û—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è ‚Üí –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é\n\n–≠—Ä–∞ —Ö–∞–æ—Ç–∏—á–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ò–ò —Å–º–µ–Ω—è–µ—Ç—Å—è —ç—Ä–æ–π ¬´—É–±–æ—Ä–∫–∏¬ª.\n\n–ö–æ–º–ø–∞–Ω–∏–∏ —Ç–æ–Ω—É—Ç –≤ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∏ ¬´–æ—Ç—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö¬ª –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö.\n\n–ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —ç–ª–∏—Ç–∞: —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∞–Ω–∏—Ç–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∑–¥–æ—Ä–∞–≤–ª–∏–≤–∞—é—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –∏ –≤—ã—á–∏—â–∞—é—Ç –º—É—Å–æ—Ä –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –±–∞–∑ –∑–Ω–∞–Ω–∏–π.\n\n–í–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è –ø–æ—Å—Ç—Ä–æ–∏–ª–∞ –ò–ò-—Å–∏—Å—Ç–µ–º—É. –ö—Ç–æ –≤ –Ω–µ–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç–æ, —á—Ç–æ–±—ã –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ —Å–æ—à–µ–ª —Å —É–º–∞ –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Deloitte Tech Trends 2026"
        },
        { 
            id: 15, 
            title: "–¶–∏—Ñ—Ä–æ–≤–æ–π –∞—Å–∫–µ—Ç–∏–∑–º", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/digital-asceticism/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/digital-asceticism/back.jpg",
            description: "–û—Ç –∑–∞—Ö–≤–∞—Ç–∞ –≤–Ω–∏–º–∞–Ω–∏—è ‚Üí –∫ –∑–∞—â–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∏\n\n–í —ç–ø–æ—Ö—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —à—É–º–∞ —Ç–∏—à–∏–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—ã—Å—à–∏–º –±–ª–∞–≥–æ–º.\n\n–õ–∏–¥–µ—Ä–∞–º–∏ —Å—Ç–∞–Ω—É—Ç –±—Ä–µ–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤ —ç–∫—Ä–∞–Ω–µ, –∞ –ø–æ–º–æ–≥–∞—é—Ç –±—ã—Å—Ç—Ä–æ –¥–æ—Å—Ç–∏—á—å —Ü–µ–ª–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∂–∏–∑–Ω–∏ –≤–Ω–µ —Å–µ—Ç–∏.\n\n–ë–µ—Ä–µ–∂–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –º–µ–Ω—Ç–∞–ª—å–Ω–æ–º—É –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –Ω–æ–≤—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏.\n\n–í–∞—à–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤—Ä–µ–º—è –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—Ä–∞–∂–∞—Ç—å—Å—è –∑–∞ –µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏–µ?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: Consumer Trends 2026 (Offline luxury)."
        },
        { 
            id: 16, 
            title: "–ö–æ–Ω–µ—Ü –Ω–æ—Ä–º—ã", 
            imgFront: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/end-of-normal/front.jpg", 
            imgBack: "https://cdn.jsdelivr.net/gh/neyroclay/img-host-trends-2026@main/trends/end-of-normal/back.jpg",
            description: "–û—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ‚Üí –∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏\n\n–ò–ò –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª ¬´—Å—Ä–µ–¥–Ω–∏–π¬ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –¥–µ—à–µ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±–æ–ª—å—à–µ –Ω–µ–ª—å–∑—è –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å.\n\n–†—ã–Ω–æ–∫ –ø–æ–ª—è—Ä–∏–∑—É–µ—Ç—Å—è: –≤—ã–∂–∏–≤–∞–µ—Ç –ª–∏–±–æ –ø—Ä–µ–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –ª–∏–±–æ –≥–ª—É–±–æ–∫–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å.\n\n¬´–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞¬ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–æ–≤—É—à–∫–æ–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞.\n\n–ó–∞ —á—Ç–æ –≤–∞–º –±—É–¥—É—Ç –ø–ª–∞—Ç–∏—Ç—å –ø—Ä–µ–º–∏—é –≤ –º–∏—Ä–µ, –≥–¥–µ ¬´–Ω–æ—Ä–º–∞¬ª –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å–∏–ª–∏–π?",
            source: "–ò—Å—Ç–æ—á–Ω–∏–∫: McKinsey Global Institute (Market Polarization)."
        }
    ];

    // --- 2. SETUP ---
    container.style.position = 'relative';
    container.style.width = '100%';
    container.style.height = '100dvh'; 
    if (CSS.supports && !CSS.supports("height: 100dvh")) {
        container.style.height = window.innerHeight + 'px';
        window.addEventListener('resize', () => { container.style.height = window.innerHeight + 'px'; });
    }
    container.style.minHeight = '600px';
    container.style.overflow = 'hidden';
    container.style.backgroundColor = '#FFFFFF';
    container.style.fontFamily = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
    container.style.touchAction = 'none';

    // --- 4. HTML ---
    const canvasDiv = document.createElement('div');
    canvasDiv.id = 'canvas-container';
    canvasDiv.style.position = 'absolute'; canvasDiv.style.top = '0'; canvasDiv.style.left = '0'; 
    canvasDiv.style.width = '100%'; canvasDiv.style.height = '100%';
    canvasDiv.style.zIndex = '0';
    container.appendChild(canvasDiv);

    const uiLayer = document.createElement('div');
    uiLayer.className = 'ui-layer';
    uiLayer.innerHTML = `
        <div id="hand-icon" class="material-icons-round">touch_app</div>

        <!-- MODAL: READ TREND -->
        <div id="read-trend-modal" class="modal-overlay">
            <div class="modal-content">
                <span class="material-icons-round modal-close" id="btn-close-read">close</span>
                <div id="read-trend-title" class="modal-title" style="color:#00D2D3; text-transform:uppercase; letter-spacing:2px;">–ù–ê–ó–í–ê–ù–ò–ï</div>
                
                <div id="read-trend-text" class="read-scroll-area"></div>
                
                <div id="read-trend-source" style="color:#8A9999; font-size:11px; margin-bottom:20px; font-style:italic; text-align:left; border-top:1px solid #E0E0E0; padding-top:15px; display:none;"></div>
                
                <div style="display:flex; flex-direction:column; align-items:center; gap:12px; width:100%;">
                    <button id="btn-read-apply" class="ask-ai-main-btn">
                        –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç—Ä–µ–Ω–¥?
                    </button>
                </div>
            </div>
        </div>

        <header>
            <div style="flex:1"></div>
            <h1>–¢–†–ï–ù–î–´ 2026 | –ú–ò–†–û–§–ê–ö–¢–£–†–ê</h1>
            <div style="flex:1; display:flex; justify-content:flex-end;">
                <button class="header-reset-btn" id="btn-reset"><span class="material-icons-round" style="font-size:18px;">refresh</span></button>
            </div>
        </header>

        <!-- FULLSCREEN VIEWS -->
        <div id="library-view" class="fullscreen-view">
            <h2 style="color:#1F2E2E; margin-top:0; font-size:16px; margin-bottom:20px; text-align:center; letter-spacing:2px;">–ö–û–õ–õ–ï–ö–¶–ò–Ø</h2>
            <div class="lib-grid" id="lib-grid-content"></div>
        </div>

        <div id="authors-view" class="fullscreen-view" style="display:none;">
            <div class="authors-container">
                <div style="text-align:center; color:#1F2E2E; font-weight:bold; margin-bottom:20px;">–ê–í–¢–û–†–´ –ü–†–û–ï–ö–¢–ê</div>
                <div class="author-card">
                    <img src="${AUTHOR_1_IMG}" class="author-img">
                    <div class="author-info">
                        <div class="author-name">–ï–ª–∏–∑–∞–≤–µ—Ç–∞ –í–∏–∫—É–ª–æ–≤–∞</div>
                        <div class="author-desc">–≠–∫—Å–ø–µ—Ä—Ç –ø–æ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞, —Ñ–∞–Ω–∞—Ç –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏.</div>
                    </div>
                </div>
                <div class="author-card">
                    <img src="${AUTHOR_2_IMG}" class="author-img">
                    <div class="author-info">
                        <div class="author-name">–ï–ª–µ–Ω–∞ –ü–æ–ø–æ–≤–∞</div>
                        <div class="author-desc">–≠–∫—Å–ø–µ—Ä—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π –≤ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–µ –∏ wow-—ç—Ñ—Ñ–µ–∫—Ç–∞–º.</div>
                    </div>
                </div>
                <div class="consult-box">
                    <div class="consult-gift">üéÅ –ü–û–î–ê–†–û–ö</div>
                    <div style="color:#1F2E2E; font-weight:bold; margin-bottom:10px;">30-–º–∏–Ω—É—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</div>
                    <a href="${CONSULTATION_URL}" target="_blank" class="consult-btn">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</a>
                </div>
            </div>
        </div>

        <!-- ONBOARDING -->
        <div id="onboarding-view">
            <span class="material-icons-round" style="font-size:48px; color:#00D2D3; margin-bottom:20px;">auto_awesome</span>
            <div style="font-size:22px; font-weight:800; color:#1F2E2E; margin-bottom:20px;">–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨</div>
            <ul style="text-align:left; color:#1F2E2E; font-size:13px; line-height:2; list-style:none; padding:0;">
                <li><span style="color:#00D2D3; margin-right:10px;">‚ú¶</span> –ó–∞—Ö–æ–¥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</li>
                <li><span style="color:#00D2D3; margin-right:10px;">‚ú¶</span> –°–æ–±–∏—Ä–∞–π —Å–≤–æ—é –∫–æ–ª–æ–¥—É —Ç—Ä–µ–Ω–¥–æ–≤</li>
                <li><span style="color:#00D2D3; margin-right:10px;">‚ú¶</span> –¢—Ä–µ–Ω–¥—ã –≤—ã–ø–∞–¥–∞—é—Ç —Ä–∞–Ω–¥–æ–º–Ω–æ</li>
            </ul>
            <button class="onboard-btn" id="btn-start-onboard">–ù–ê–ß–ê–¢–¨</button>
        </div>

        <div class="spacer"></div>

        <!-- GAME UI -->
        <div id="game-ui">
            <div class="hint-text" id="main-hint">...</div>

            <div id="active-ui">
                <div class="progress-wrapper"><div class="progress-fill" id="p-bar"></div></div>
            </div>
            <div id="done-ui" style="display:none; flex-direction:column; align-items:center;">
                 <div class="timer-box" id="daily-timer" style="display:none;">
                    <div style="color:#8A9999; font-size:11px;">–ù–û–í–ê–Ø –ö–ê–†–¢–ê –ß–ï–†–ï–ó</div>
                    <div class="timer-digits" id="timer-val">00:00:00</div>
                </div>
                
                <div class="collection-hint">–ö–∞—Ä—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ <span class="collection-link" id="link-to-collection" style="color:#00D2D3; cursor:pointer;">–ö–û–õ–õ–ï–ö–¶–ò–ò</span></div>
            </div>
        </div>

        <div class="nav">
            <div class="nav-item active" id="btn-tab-daily"><span class="material-icons-round" style="font-size:22px;">style</span>–ö–ê–†–¢–ê –î–ù–Ø</div>
            <div class="nav-item" id="btn-tab-collection"><span class="material-icons-round" style="font-size:22px;">collections</span>–ö–û–õ–õ–ï–ö–¶–ò–Ø</div>
            <div class="nav-item" id="btn-tab-authors"><span class="material-icons-round" style="font-size:22px;">group</span>–ê–í–¢–û–†–´</div>
            <div class="nav-share-btn" id="share-btn"><span style="font-size:10px; font-weight:800;">–ü–û–î–ï–õ–ò–¢–¨–°–Ø</span></div>
        </div>
    `;
    container.appendChild(uiLayer);

    // --- 5. LOGIC: STATE ---
    const todayStr = new Date().toDateString();
    let appData = { lastDate: null, collected: [], onboardingSeen: false, timerSeen: false };
    let isDailyDone = false;
    let isFlipped = false;
    let currentCardData;

    // –ì–ï–ù–ï–†–ê–¢–û–† –†–ê–ù–î–û–ú–ê (–ü—Ä–∏–≤—è–∑–∞–Ω –∫ ID –∏ –î–∞—Ç–µ)
    function getSeededRandom(max) {
        let seed = userId + new Date().getDate() + new Date().getMonth() * 31;
        let x = Math.sin(seed++) * 10000;
        let randomNum = x - Math.floor(x);
        return Math.floor(randomNum * max);
    }

    // –ó–ê–ì–†–£–ó–ö–ê –ò–ó –û–ë–õ–ê–ö–ê –ò–õ–ò LOCALSTORAGE (–° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏)
    function loadState(callback) {
        if (isCloudStorageSupported) {
            try {
                tg.CloudStorage.getItem(STORAGE_KEY, (err, value) => {
                    if (!err && value) {
                        try { appData = { ...appData, ...JSON.parse(value) }; } catch(e){}
                    }
                    finishLoad(callback);
                });
            } catch (e) {
                fallbackLoad(callback);
            }
        } else {
            fallbackLoad(callback);
        }
    }

    function fallbackLoad(callback) {
        try { const raw = localStorage.getItem(STORAGE_KEY); if(raw) appData = {...appData, ...JSON.parse(raw)}; } catch(e){}
        finishLoad(callback);
    }

    function finishLoad(callback) {
        isDailyDone = (appData.lastDate === todayStr);
        callback();
    }

    // –°–û–•–†–ê–ù–ï–ù–ò–ï –í –û–ë–õ–ê–ö–û –¢–ï–õ–ï–ì–†–ê–ú –ò–õ–ò LOCALSTORAGE
    function saveState() { 
        if (isCloudStorageSupported) {
            try {
                tg.CloudStorage.setItem(STORAGE_KEY, JSON.stringify(appData)); 
            } catch (e) {
                fallbackSave();
            }
        } else {
            fallbackSave();
        }
    }

    function fallbackSave() {
        try { localStorage.setItem(STORAGE_KEY, JSON.stringify(appData)); } catch(e){}
    }

    // –í–´–ë–û–† –ö–ê–†–¢–´
    function selectCard() {
        if (isDailyDone && appData.collected.length > 0) {
            const lastId = appData.collected[appData.collected.length - 1];
            currentCardData = CARDS_DB.find(c => c.id === lastId);
            if (!currentCardData) currentCardData = CARDS_DB[0];
        } else {
            let availableCards = CARDS_DB.filter(card => !appData.collected.includes(card.id));
            if (availableCards.length === 0) availableCards = CARDS_DB;

            let randomIndex = getSeededRandom(availableCards.length);
            currentCardData = availableCards[randomIndex];
        }
    }

    function updateTimer() {
        if(!isDailyDone) return;
        const now = new Date();
        const tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        tomorrow.setHours(0, 0, 0, 0);
        const diff = tomorrow - now;
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);
        document.getElementById('timer-val').textContent = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è
    window.app_openReadModal = (cardId) => {
        const card = CARDS_DB.find(c => c.id === cardId);
        if(!card) return;
        
        document.getElementById('read-trend-title').textContent = card.title;
        document.getElementById('read-trend-text').textContent = card.description || "–û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.";
        
        const sourceEl = document.getElementById('read-trend-source');
        if(card.source) {
            sourceEl.textContent = card.source;
            sourceEl.style.display = 'block';
        } else {
            sourceEl.style.display = 'none';
        }
        
        document.getElementById('btn-read-apply').onclick = (e) => {
            e.stopPropagation();
            document.getElementById('read-trend-modal').classList.remove('visible');
            document.getElementById('btn-tab-authors').click(); 
        };

        document.getElementById('read-trend-modal').classList.add('visible');
    };

    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    loadState(() => {
        selectCard();

        const onboardView = document.getElementById('onboarding-view');
        if(!appData.onboardingSeen) {
            onboardView.classList.add('visible');
            onboardView.style.opacity = '1';
        }
        document.getElementById('btn-start-onboard').addEventListener('click', ()=>{
            onboardView.style.opacity = '0';
            setTimeout(()=>{ onboardView.classList.remove('visible'); appData.onboardingSeen=true; saveState(); }, 500);
        });

        loadScript('https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js')
            .then(() => loadScript('https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js'))
            .then(initThreeJS);
    });

    // --- 6. LOADER ---
    function loadScript(src) {
        return new Promise((resolve) => {
            if (document.querySelector(`script[src="${src}"]`)) { resolve(); return; }
            const s = document.createElement('script'); s.src=src; s.onload=resolve; document.head.appendChild(s);
        });
    }

    // --- 7. THREE.JS ---
    function initThreeJS() {
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0xFFFFFF, 0.05);
        const width = container.clientWidth; const height = container.clientHeight;
        let cameraZ = 6; if(width<768) cameraZ = 7.5;
        const camera = new THREE.PerspectiveCamera(60, width/height, 0.1, 100); camera.position.z = cameraZ;
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(width, height); renderer.setPixelRatio(window.devicePixelRatio);
        canvasDiv.appendChild(renderer.domElement);
        const canvas = renderer.domElement;

        const ambient = new THREE.AmbientLight(0xffffff, 0.7); scene.add(ambient);
        const dirLight = new THREE.DirectionalLight(0xffffff, 0.8); dirLight.position.set(5, 5, 10); scene.add(dirLight);

        const cardGroup = new THREE.Group(); 
        if (width < 768) cardGroup.position.y = 0.6; else cardGroup.position.y = 0.3;
        scene.add(cardGroup);

        const cardGeo = new THREE.PlaneGeometry(3.5, 5.0);
        const loader = new THREE.TextureLoader(); loader.crossOrigin = 'Anonymous';

        // GLOW
        const glowGeo = new THREE.PlaneGeometry(6, 7.5); 
        const glowCanvas = document.createElement('canvas'); glowCanvas.width=128; glowCanvas.height=128;
        const gCtx = glowCanvas.getContext('2d');
        const grd = gCtx.createRadialGradient(64,64,0,64,64,64);
        grd.addColorStop(0, 'rgba(0, 210, 211, 0.8)'); 
        grd.addColorStop(0.5, 'rgba(0, 210, 211, 0.2)'); 
        grd.addColorStop(1, 'rgba(0,0,0,0)'); 
        gCtx.fillStyle = grd; gCtx.fillRect(0,0,128,128);
        const glowTex = new THREE.CanvasTexture(glowCanvas);
        const glowMat = new THREE.MeshBasicMaterial({ map: glowTex, transparent: true, opacity: 0, depthWrite: false, blending: THREE.AdditiveBlending });
        const glowMesh = new THREE.Mesh(glowGeo, glowMat);
        glowMesh.position.z = -0.05; cardGroup.add(glowMesh);

        // FRONT
        const frontMat = new THREE.MeshBasicMaterial({ color: 0x00D2D3, side: THREE.FrontSide, transparent: true, opacity: 0.8 }); 
        const frontMesh = new THREE.Mesh(cardGeo, frontMat);
        frontMesh.position.z = 0.01; cardGroup.add(frontMesh);

        loader.load(currentCardData.imgFront, (tex) => {
            frontMesh.material.map = tex;
            frontMesh.material.color.setHex(0xffffff);
            frontMesh.material.needsUpdate = true;
        });

        // BACK
        const backCanvas = document.createElement('canvas');
        backCanvas.width = 512; backCanvas.height = 768;
        const bCtx = backCanvas.getContext('2d');
        const backTex = new THREE.CanvasTexture(backCanvas);
        const backMat = new THREE.MeshBasicMaterial({ map: backTex, side: THREE.FrontSide });
        const backMesh = new Mesh(cardGeo, backMat);
        backMesh.rotation.y = Math.PI; backMesh.position.z = -0.01; cardGroup.add(backMesh);
        
        function Mesh(geometry, material) { return new THREE.Mesh(geometry, material); } // Helper

        let isBtnHovered = false;
        let cachedBackImg = null;

        function updateBackSide(card) {
            const draw = () => {
                bCtx.clearRect(0, 0, 512, 768);
                if (cachedBackImg) bCtx.drawImage(cachedBackImg, 0, 0, 512, 768);
                
                // –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–ª–∞ –∫—Ä—É–ø–Ω–µ–µ –∏ –≤—ã—Ä–æ–≤–Ω–µ–Ω–∞ –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é
                const btnW = 250; const btnH = 48; const btnX = 40;
                bCtx.save();
                
                function drawCanvasButton(y, text) {
                    bCtx.save();
                    
                    // –≠—Ñ—Ñ–µ–∫—Ç Hover –¥–ª—è –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
                    const scale = isBtnHovered ? 1.02 : 1;
                    bCtx.translate(btnX + btnW/2, y + btnH/2);
                    bCtx.scale(scale, scale);
                    bCtx.translate(-(btnX + btnW/2), -(y + btnH/2));

                    // –¢–µ–Ω—å –∫–∞–∫ —É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
                    bCtx.shadowColor = "rgba(0, 210, 211, 0.3)";
                    bCtx.shadowBlur = 15;
                    bCtx.shadowOffsetY = 4;

                    bCtx.beginPath();
                    if(bCtx.roundRect) bCtx.roundRect(btnX, y, btnW, btnH, 24); else bCtx.rect(btnX, y, btnW, btnH);
                    bCtx.fillStyle = "#00D2D3";
                    bCtx.fill();
                    
                    bCtx.shadowColor = "transparent";
                    
                    bCtx.lineWidth = 1.5; bCtx.strokeStyle = "transparent";
                    bCtx.stroke();
                    bCtx.font = "bold 16px sans-serif"; bCtx.fillStyle = "white"; bCtx.textAlign = "center"; bCtx.textBaseline = "middle";
                    bCtx.fillText(text, btnX + btnW/2, y + btnH/2);
                    
                    bCtx.restore();
                }

                // –°–º–µ—Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–∫—É —á—É—Ç—å-—á—É—Ç—å –≤–Ω–∏–∑
                drawCanvasButton(685, "–û—Ç–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç");
                
                bCtx.restore();
                backTex.needsUpdate = true;
            };

            if (cachedBackImg && cachedBackImg.dataset.id === String(card.id)) {
                draw();
            } else {
                const backSrc = card.imgBack || TEXT_BACK_IMG;
                const img = new Image();
                img.crossOrigin = "Anonymous";
                img.dataset.id = card.id;
                img.src = backSrc;
                img.onload = () => {
                    cachedBackImg = img;
                    draw();
                };
            }
        }
        updateBackSide(currentCardData);

        // CLAY
        let maskCanvas, maskCtx, maskTexture, clayMesh;
        const scratchedCells = new Set();

        function createClayLayer() {
            if(clayMesh) { cardGroup.remove(clayMesh); clayMesh = null; }
            scratchedCells.clear();
            maskCanvas = document.createElement('canvas'); maskCanvas.width = 512; maskCanvas.height = 768;
            maskCtx = maskCanvas.getContext('2d');
            maskCtx.fillStyle = '#F7F7F7'; maskCtx.fillRect(0,0,512,768);
            maskCtx.font = "bold 40px Arial"; maskCtx.fillStyle = "rgba(31, 46, 46, 0.2)"; maskCtx.textAlign = "center"; maskCtx.fillText("SCRATCH ME", 256, 384);
            maskTexture = new THREE.CanvasTexture(maskCanvas);
            const clayMat = new THREE.MeshBasicMaterial({ map: maskTexture, transparent: true, side: THREE.DoubleSide, alphaTest: 0.01 });
            clayMesh = new THREE.Mesh(cardGeo, clayMat);
            clayMesh.position.z = 0.02; clayMesh.renderOrder = 999; clayMesh.userData = { isClay: true };
            cardGroup.add(clayMesh);

            const img = new Image(); img.crossOrigin = "Anonymous"; img.src = currentCardData.imgFront;
            img.onload = function() {
                try {
                    maskCtx.globalCompositeOperation = 'source-over'; maskCtx.drawImage(img, 0, 0, 512, 768);
                    const idata = maskCtx.getImageData(0,0,512,768); const d = idata.data;
                    for(let i=0; i<d.length; i+=4) { const v = 0.3*d[i] + 0.59*d[i+1] + 0.11*d[i+2]; d[i] = v*0.5; d[i+1] = v*0.5; d[i+2] = v*0.5; }
                    maskCtx.putImageData(idata, 0, 0); if(maskTexture) maskTexture.needsUpdate = true;
                } catch(e) { console.warn("CORS/Gray layer active"); }
            };
        }

        if (!isDailyDone) {
            createClayLayer();
            updateHint("–°–æ—Ç—Ä–∏ –∑–∞—â–∏—Ç–Ω—ã–π —Å–ª–æ–π");
            document.getElementById('active-ui').style.display = 'block';
            document.getElementById('hand-icon').style.display = 'flex'; 
        } else {
            document.getElementById('active-ui').style.display = 'none';
            document.getElementById('done-ui').style.display = 'flex';
            if(appData.timerSeen) {
                document.getElementById('daily-timer').style.display = 'block';
            }
            updateHint("‚ú® –û—Ç–∫—Ä—ã—Ç–æ! –ù–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç—É");
        }

        const raycaster = new THREE.Raycaster(); const mouse = new THREE.Vector2();
        let isDragging = false; let touchStartX = 0; let touchStartY = 0; let isTap = false; let targetRotX = 0; let targetRotY = 0; let baseRotationY = 0;

        function onDown(e) { isDragging = true; isTap = true; if(e.touches){touchStartX=e.touches[0].clientX;touchStartY=e.touches[0].clientY;}else{touchStartX=e.clientX;touchStartY=e.clientY;} interact(e,false); }
        function onMove(e) { updateParallax(e); if(isDragging){ let cx=e.touches?e.touches[0].clientX:e.clientX; let cy=e.touches?e.touches[0].clientY:e.clientY; if(Math.abs(cx-touchStartX)>15 || Math.abs(cy-touchStartY)>15) isTap=false; interact(e,false); } else checkHover(e); }
        function onUp(e) { 
            isDragging = false; 
            if(isTap) { 
                if(isDailyDone || !clayMesh) {
                    const m = getMouse(e);
                    if(!isNaN(m.x)) {
                        raycaster.setFromCamera(m, camera);
                        if (isFlipped) {
                            const hits = raycaster.intersectObject(backMesh);
                            if (hits.length > 0) {
                                if (hits[0].uv.y > 0.04 && hits[0].uv.y < 0.12) { window.app_openReadModal(currentCardData.id); return; }
                            }
                        }
                        const intersects = raycaster.intersectObjects([frontMesh, backMesh]); 
                        if (intersects.length > 0) flipCard();
                    }
                } 
            } 
            isTap = false; 
        }

        document.getElementById('btn-close-read').addEventListener('click', () => {
            document.getElementById('read-trend-modal').classList.remove('visible');
        });
        
        function getMouse(e) { const rect = canvas.getBoundingClientRect(); let clientX, clientY; if(e.changedTouches && e.changedTouches.length > 0) { clientX = e.changedTouches[0].clientX; clientY = e.changedTouches[0].clientY; } else if(e.touches && e.touches.length > 0) { clientX = e.touches[0].clientX; clientY = e.touches[0].clientY; } else { clientX = e.clientX; clientY = e.clientY; } return { x: ((clientX-rect.left)/rect.width)*2-1, y: -((clientY-rect.top)/rect.height)*2+1 }; }
        
        function checkHover(e) { 
            const m=getMouse(e); if(isNaN(m.x))return; mouse.set(m.x, m.y); raycaster.setFromCamera(mouse, camera); 
            if(!clayMesh){
                let hoveringBtn = false;
                if(isFlipped) {
                    const hits=raycaster.intersectObject(backMesh);
                    if(hits.length>0 && hits[0].uv.y > 0.04 && hits[0].uv.y < 0.12) hoveringBtn = true;
                }
                if(hoveringBtn !== isBtnHovered) {
                    isBtnHovered = hoveringBtn;
                    updateBackSide(currentCardData);
                }
                canvas.style.cursor = 'pointer'; 
                return;
            } 
            const hits=raycaster.intersectObject(clayMesh); canvas.style.cursor=hits.length>0?'crosshair':'default'; 
        }
        
        function interact(e) { 
            if(document.getElementById('library-view').classList.contains('visible') || document.getElementById('authors-view').style.display==='flex' || document.getElementById('onboarding-view').classList.contains('visible') || document.getElementById('read-trend-modal').classList.contains('visible')) return; 
            const m=getMouse(e); if(isNaN(m.x))return; mouse.set(m.x, m.y); 
            raycaster.setFromCamera(mouse, camera); 
            if(clayMesh && !isDailyDone) { 
                const hits=raycaster.intersectObject(clayMesh); 
                if(hits.length>0) dig(hits[0].uv.x, hits[0].uv.y); 
            } 
        }

        function dig(uvX, uvY) { 
            const hand = document.getElementById('hand-icon'); 
            if(hand.style.display !== 'none') hand.style.display = 'none'; 
            
            const x=uvX*512; const y=(1-uvY)*768; 
            maskCtx.globalCompositeOperation='destination-out'; 
            maskCtx.beginPath(); 
            maskCtx.arc(x, y, 70, 0, Math.PI*2); 
            maskCtx.fill(); 
            maskTexture.needsUpdate=true; 
            
            try{if(navigator.vibrate)navigator.vibrate(5)}catch(e){} 
            
            const gx=Math.floor(x/40); const gy=Math.floor(y/40); const key=`${gx}:${gy}`; 
            if(!scratchedCells.has(key)) { 
                scratchedCells.add(key); 
                const p=Math.min(100,(scratchedCells.size/150)*100); 
                document.getElementById('p-bar').style.width=p+'%'; 
                if(p>=100 && !isDailyDone) finishDaily(); 
            } 
        }
        
        function finishDaily() { 
            isDailyDone = true; 
            
            // –ó–í–£–ö –ü–û–ë–ï–î–´ –ò –ö–û–ù–§–ï–¢–¢–ò
            winSound.play().catch(()=>{});
            if(window.confetti) {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#00D2D3', '#FFC845', '#FFFFFF']
                });
            }
            try { if (navigator.vibrate) navigator.vibrate([30, 50, 30]); } catch(e){}

            updateHint("‚ú® –û—Ç–∫—Ä—ã—Ç–æ! –ù–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç—É"); 
            document.getElementById('active-ui').style.display = 'none'; 
            document.getElementById('done-ui').style.display = 'flex'; 
            document.getElementById('daily-timer').style.display = 'none';
            
            appData.timerSeen = true;

            const colHint = document.querySelector('.collection-hint');
            if(colHint) colHint.style.opacity = '1';
            
            new TWEEN.Tween(clayMesh.material).to({opacity:0},800).onComplete(()=>{cardGroup.remove(clayMesh); clayMesh=null;}).start(); 
            new TWEEN.Tween(frontMesh.material).to({opacity: 1}, 1000).start(); 
            glowMesh.material.color.setHex(0xFFC845); 
            new TWEEN.Tween(glowMat).to({opacity: 0.6}, 1000).yoyo(true).repeat(Infinity).start(); 
            
            appData.lastDate = todayStr; 
            if(!appData.collected.includes(currentCardData.id)) appData.collected.push(currentCardData.id); 
            
            saveState(); 
            renderLibrary(); 
        }
        
        function flipCard() { 
            isFlipped = !isFlipped; 
            const target = isFlipped ? Math.PI : 0; 
            const hintEl = document.getElementById('main-hint'); 
            const colHintEl = document.querySelector('.collection-hint');
            if(isFlipped) { if(hintEl) hintEl.style.opacity = '0'; if(colHintEl) colHintEl.style.opacity = '0'; } 
            else { if(hintEl) hintEl.style.opacity = '1'; if(colHintEl) colHintEl.style.opacity = '1'; } 
            new TWEEN.Tween({y:baseRotationY}).to({y:target},600).easing(TWEEN.Easing.Back.Out).onUpdate(o=>baseRotationY=o.y).start(); 
        }
        
        function updateParallax(e) { const m=getMouse(e); if(!isNaN(m.x) && window.innerWidth >= 768) { targetRotX=m.y*0.15; targetRotY=m.x*0.15; } }
        function animate(time) { requestAnimationFrame(animate); TWEEN.update(time); cardGroup.rotation.x += (targetRotX - cardGroup.rotation.x)*0.1; const finalY = targetRotY + baseRotationY; cardGroup.rotation.y += (finalY - cardGroup.rotation.y)*0.1; renderer.render(scene, camera); }
        function updateHint(text) { const el = document.getElementById('main-hint'); el.style.opacity = 0; setTimeout(()=>{el.textContent=text; el.style.opacity=1},200); }

        document.getElementById('share-btn').addEventListener('click', async () => { const text = `üîÆ –¢—Ä–µ–Ω–¥—ã 2026 | –ú–∏—Ä–æ—Ñ–∞–∫—Ç—É—Ä–∞. –ú–Ω–µ –≤—ã–ø–∞–ª –∏–Ω—Å–∞–π—Ç ¬´${currentCardData.title}¬ª. –ó–∞–≥–ª—è–Ω–∏ –≤ –±—É–¥—É—â–µ–µ –∏ —Å–æ–±–µ—Ä–∏ —Å–≤–æ—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫—É—é –∫–æ–ª–æ–¥—É:`; if(navigator.share) { try{await navigator.share({title:'–¢—Ä–µ–Ω–¥—ã 2026 | –ú–∏—Ä–æ—Ñ–∞–∫—Ç—É—Ä–∞', text:text, url:window.location.href})}catch(e){} } else { alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!"); } });
        document.getElementById('link-to-collection').addEventListener('click', () => { document.getElementById('btn-tab-collection').click(); });

        function renderLibrary() {
            const grid = document.getElementById('lib-grid-content'); grid.innerHTML = '';
            
            // –°–û–†–¢–ò–†–û–í–ö–ê: –û–¢–ö–†–´–¢–´–ï –ö–ê–†–¢–´ –°–í–ï–†–•–£
            const sortedCards = [...CARDS_DB].sort((a, b) => {
                const aUnlocked = appData.collected.includes(a.id);
                const bUnlocked = appData.collected.includes(b.id);
                if (aUnlocked && !bUnlocked) return -1;
                if (!aUnlocked && bUnlocked) return 1;
                return a.id - b.id; 
            });

            sortedCards.forEach(card => {
                const unlocked = appData.collected.includes(card.id);
                if(unlocked) {
                    const el = document.createElement('div'); el.className = 'lib-card-container';
                    const backImg = card.imgBack || TEXT_BACK_IMG;
                    el.innerHTML = `
                        <div class="lib-card-inner">
                            <div class="lib-card-face" style="background-image: url('${card.imgFront}')"></div>
                            <div class="lib-card-face lib-card-back" style="background-image: url('${backImg}')">
                                <button class="lib-read-btn" onclick="event.stopPropagation(); window.app_openReadModal(${card.id})">–û—Ç–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç</button>
                            </div>
                        </div>`;
                    el.onclick = function(e){ if(!e.target.classList.contains('lib-read-btn')) this.classList.toggle('flipped'); }; 
                    grid.appendChild(el);
                } else { 
                    const el = document.createElement('div'); el.className = 'lib-card-locked'; 
                    el.innerHTML = `
                        <div style="position:absolute; inset:0; background-image: url('${card.imgFront}'); background-size: cover; background-position: center; filter: grayscale(60%) brightness(35%);"></div>
                        <div style="z-index:2; background:rgba(255,255,255,0.1); backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px); width:50px; height:50px; border-radius:50%; display:flex; align-items:center; justify-content:center; border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 4px 15px rgba(0,0,0,0.3);">
                            <span class="material-icons-round" style="font-size:24px; color:rgba(255,255,255,0.8);">lock</span>
                        </div>
                    `; 
                    grid.appendChild(el); 
                }
            });
        }

        function toggleView(viewId) {
            document.getElementById('library-view').classList.remove('visible'); 
            document.getElementById('authors-view').style.display = 'none'; 
            canvasDiv.style.opacity = '1'; document.getElementById('game-ui').style.opacity = '1';
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            const hand = document.getElementById('hand-icon');
            if (viewId === 'daily' && !isDailyDone) hand.style.display = 'flex'; else hand.style.display = 'none';
            if(viewId==='daily'){ document.getElementById('btn-tab-daily').classList.add('active'); }
            else if(viewId==='collection'){ renderLibrary(); document.getElementById('library-view').classList.add('visible'); canvasDiv.style.opacity='0'; document.getElementById('game-ui').style.opacity='0'; document.getElementById('btn-tab-collection').classList.add('active'); }
            else if(viewId==='authors'){ document.getElementById('authors-view').style.display='flex'; canvasDiv.style.opacity='0'; document.getElementById('game-ui').style.opacity='0'; document.getElementById('btn-tab-authors').classList.add('active'); }
        }
        document.getElementById('btn-tab-daily').addEventListener('click', ()=>toggleView('daily'));
        document.getElementById('btn-tab-collection').addEventListener('click', ()=>toggleView('collection'));
        document.getElementById('btn-tab-authors').addEventListener('click', ()=>toggleView('authors'));
        
        document.getElementById('btn-reset').addEventListener('click', ()=>{
            if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?')){
                appData={lastDate:null,collected:[],onboardingSeen:false,timerSeen:false}; 
                isDailyDone=false; isFlipped=false; baseRotationY=0;
                document.getElementById('p-bar').style.width='0%'; 
                saveState(); 
                selectCard();
                const loader = new THREE.TextureLoader(); loader.crossOrigin = 'Anonymous';
                loader.load(currentCardData.imgFront, (t)=>{ frontMesh.material.map=t; frontMesh.material.needsUpdate=true; });
                updateBackSide(currentCardData);
                createClayLayer(); 
                toggleView('daily'); updateHint("–°–æ—Ç—Ä–∏ –∑–∞—â–∏—Ç–Ω—ã–π —Å–ª–æ–π");
                document.getElementById('active-ui').style.display='block'; document.getElementById('done-ui').style.display='none'; document.getElementById('daily-timer').style.display='none';
                document.getElementById('onboarding-view').classList.add('visible'); document.getElementById('onboarding-view').style.opacity='1';
            }
        });

        setInterval(updateTimer, 1000);
        canvas.addEventListener('pointerdown', onDown); window.addEventListener('pointermove', onMove); window.addEventListener('pointerup', onUp); 
        window.addEventListener('resize', () => { const w=container.clientWidth; const h=container.clientHeight; camera.aspect=w/h; camera.updateProjectionMatrix(); renderer.setSize(w,h); if(w<768)camera.position.z=7.5; else camera.position.z=6; });
        animate();
    }
})();
</script>
</body>
</html>
